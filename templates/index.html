{% extends base.html %}

{% block meta%}
    <meta name="description" content="九三散人的官网首页">
{% end %}

{% block nav %}
{% module nav(keyword if keyword else '') %}
{% end %}

{% block content %}
<ul class="home post-list">
    {% for post in posts %}
    <li class="post-list-item">
        <article class="post-block">
            <h2 class="post-title"><a href="/post/{{ post["_id"] }}.html" class="post-title-link">{{ post["title"] }}</a></h2>
            <div class="post-info">
                <div class="post-time">
                    <span class="glyphicon glyphicon-time"></span>
                    <a>{{ post["author"] }}</a> Posted on {{ locale.format_date(post["time"], shorter=True) }}
                    {% for tag in post["tags"] %}
                    <a class="post-tag-link" href="/list.html?tag={{ tag }}">{{ tag }}</a>
                    {% end %}
                </div>
            </div>
            <div class="post-content">
                {% raw post["brief"] %}
            </div>

            <a href="/post/{{ post["_id"] }}.html" class="read-more">查看全文...</a>
        </article>
    </li>
    {% end %}
</ul>

<!-- Pager -->
<ul class="pager">
    <li class="previous">
    <a href="index.html?page={% raw page - 1 %}{% if ct %}&tag={{ ct }}{% end %}{% if keyword %}&keyword={{ keyword }}{% end %}">上一页</a>
    </li>
    <li class="next">
        <a href="index.html?page={% raw page + 1 %}{% if ct %}&tag={{ ct }}{% end %}{% if keyword %}&keyword={{ keyword }}{% end %}">下一页</a>
    </li>
</ul>

<!--
<div class="pagination">
    <ul>
        <li><a href="#">首页</a></li>
        <li class="active show-page"><span>1</span></li>
        <li class="show-page"><a href="#">2</a></li>
        <li class="show-page"><a href="#">3</a></li>
        <li class="show-page"><a href="#">4</a></li>
        <li class="next-page"><a href="#">下一页</a></li>
        <li id="end-page"><a href="#">末页</a></li>
        <li id="total-page"><span>共 4 页</span></li>
    </ul>
</div>
-->
{% end %}
